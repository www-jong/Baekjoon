import sys
sys.setrecursionlimit(100000)
def working(x,cycle):
    global visit,plag
    tmp=nodes[x]
    tmp_li=[]
    for i in check[x]:
        if i in cycle:
            plag=1
            return
        if not visit[i]:
            visit[i]=1
            working(i,cycle+[i])
            
        tmp_li.append(visit[i])
    if not tmp_li:
        tmp_li=[0]
    visit[x]=max(max(tmp_li)+tmp,visit[x])

N=39
nodes=[0]*(N+1)
check=[[], [17, 36, 18, 15, 9, 32, 14], [30, 29, 18, 11, 31, 26, 20, 7, 15, 39, 27, 12, 38, 4, 6, 34, 35, 5, 1, 37, 25, 22, 14, 36, 17, 9, 13, 19], [11, 6, 17, 38, 35, 30, 1, 14, 24, 37, 34, 2, 4, 9, 5, 13, 18, 39, 7, 26, 29, 23, 28, 33, 31, 25, 27, 19, 10, 36, 20, 21, 8], [25, 36, 26, 22, 38, 2, 34, 39, 29, 23, 21, 9, 32, 35, 3, 10, 33, 5, 24, 28, 12, 1], [17, 8, 11, 37], [22, 32, 28, 9, 31, 30, 14, 17, 4, 25, 18, 26, 1, 29, 5, 15, 13, 35, 20, 23, 36, 39, 11, 7, 19, 37, 27, 24], [26, 8, 27, 29, 39, 25, 3, 33, 17, 14, 38, 9, 24, 20, 31, 28, 35, 6, 36, 13, 16, 15, 21, 34], [14, 23, 22, 37, 25, 27, 34, 17, 21, 3, 32, 1, 11, 10, 2], [10, 23, 12, 39, 11, 37, 28, 6, 35, 3, 21, 7, 1, 24, 33, 4, 29, 19, 8, 22, 26, 16, 36, 2], [4, 39, 6, 34, 26, 7, 28, 19, 36, 35, 25, 23, 24, 12, 30, 21], [], [35], [5, 31, 8, 29, 10, 26, 11, 15, 39, 33, 19, 21, 35, 34], [38, 17, 29, 36, 7, 27, 10, 25, 26, 2, 19, 31, 39, 20, 15, 8, 4], [25, 4, 32, 26, 9, 35, 36, 1, 37, 11, 27, 21, 33, 7, 19, 39, 28, 23, 2, 3, 18, 13, 5, 34], [23, 32, 20, 7, 12, 6, 18, 37, 31, 30, 22, 8, 21, 36, 11, 29, 15, 17, 34, 35, 4, 25, 13, 1, 28, 19, 38, 39, 3], [29, 16, 25, 30, 33, 11, 38, 8, 22, 9, 13, 35, 14, 21, 7, 26, 19, 1, 18, 34, 6], [14, 20, 26, 5, 7, 1, 15, 2, 38, 11, 28, 25, 33, 4, 24, 13, 30, 39, 21, 34, 37, 31, 8, 32], [15, 16, 31, 1, 23, 6, 30, 21, 29, 11, 4, 7, 35, 8, 34], [39, 1, 29, 18, 6, 33, 16, 15, 38, 34], [28, 33, 34, 2, 18, 27, 17, 16], [28, 2, 32, 34, 11, 1, 18, 7, 16, 8, 15, 9, 27, 37, 17, 23, 12, 38, 13, 30, 6, 29, 39, 31, 24, 35, 33, 36, 26, 3, 10, 19, 20, 5, 25], [13, 25, 5, 11, 14, 29, 12, 35, 32, 21], [6, 21, 4, 20, 9, 37, 28, 22, 31, 27, 1, 26, 29, 38, 32, 23, 13, 15], [7, 39, 19, 12, 17, 4, 34, 26], [10, 3, 21, 31, 13, 5, 6, 19, 24, 8, 38, 30, 7, 33, 23, 1, 36, 37], [6, 35, 39, 8, 1, 15, 10, 17, 38, 34, 24, 37, 11, 22, 32, 9, 29, 19, 7, 4, 3, 33, 18, 2], [21, 38, 9, 15, 5, 33, 4, 26, 24, 7, 1, 30, 31, 20, 3, 16, 39, 18, 11, 27, 19, 12, 10, 13, 34, 32, 29, 14, 35, 6, 2], [32, 26, 19, 13, 4, 39, 7, 8, 15, 36, 10, 22], [1, 8], [25, 34, 3, 32, 8, 24, 10, 38, 26, 7, 29, 27, 22, 9, 11, 28, 13, 33, 14, 21, 6], [25, 34, 4, 13, 27, 17, 38, 31, 26, 6, 11, 37], [], [23, 13, 22, 32, 16, 7, 21, 14, 38, 6, 17, 8, 25, 26, 37, 12, 11, 1, 30, 33, 36, 3, 5, 18, 29, 19, 10, 31, 9, 24, 35], [17, 13, 14, 18, 25, 29, 26, 4, 31, 1, 12, 5, 19, 23, 22, 15, 39, 6, 3, 20, 7, 37, 11, 21, 28, 27, 32, 30], [16, 26, 28, 1, 5, 22, 27, 32, 24, 8, 34, 35, 25, 3, 6, 15, 14, 33, 37], [26, 6, 1, 12, 36, 28, 23, 7, 30, 8, 33, 19, 18, 31, 11, 4, 10, 24, 5, 14, 32, 38, 2, 13, 34, 20, 21, 15, 27, 39, 17, 16, 35], [23, 36, 31, 17, 1, 28, 32, 26, 39, 2, 4, 33, 27, 11, 37, 24, 9, 5, 10, 3, 13, 18, 29, 35, 30, 20, 19, 34], [30, 32, 16, 35, 31, 9, 26, 7, 20, 13, 24, 11, 23, 4, 21, 1, 25, 27, 19, 10]]
print(len(check))
nodes=[i for i in range(N+3)]
res=10**10
tmp=0
plag=0
for half in range(1,N+1):
    visit = [0]*(N+1)
    tmp_res=[10**9]*(N+1)
    tmp=nodes[half]
    nodes[half]//=2
    for i in range(1,N+1):
        working(i,[i])
    res=min(res,max(visit[1:]))
    nodes[half]=tmp
if plag:
    res=-1

print(f'#',res if res!=10**9 else -1)